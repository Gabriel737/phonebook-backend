{"version":3,"sources":["components/Filter.js","components/Person.js","components/Content.js","components/Banner.js","services/ContactService.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Person","person","name","number","Content","persons","handleDelete","filter","toLowerCase","startsWith","map","i","onClick","type","Banner","message","style","color","fontStyle","fontSize","backgroundColor","width","baseUrl","exports","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","setBanner","delete","catch","error","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","bannerMessage","setBannerMessage","useEffect","contactService","Container","fluid","event","target","preventDefault","newPerson","result","find","window","confirm","returnedPerson","concat","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8236009.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => (\r\n  <p>\r\n    Filter shown with: \r\n    <input\r\n      value={newFilter}\r\n      onChange={handleFilterChange}\r\n    /> \r\n  </p>\r\n)\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Person = ({person}) => (\r\n  <>\r\n    {person.name} {person.number}\r\n  </>\r\n)\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Content = ({persons, newFilter, handleDelete}) => (\r\n  <div>\r\n    {\r\n      persons.filter(\r\n        person => person.name.toLowerCase().startsWith(newFilter.toLowerCase())\r\n      ).map(\r\n        (person, i) => (\r\n          <p key={i}>\r\n            <Person key={i} person={person} />\r\n            <button onClick={handleDelete(person)} type=\"submit\">delete</button>\r\n          </p>\r\n        )\r\n      )\r\n    }\r\n  </div>\r\n)\r\n\r\nexport default Content","import React from 'react';\r\n\r\nconst Banner = ({message}) => {\r\n\r\n  const bannerStyle = {\r\n    color: 'blue',\r\n    fontStyle: 'bold',\r\n    fontSize: 20,\r\n    backgroundColor: 'lightgrey',\r\n    width: 500\r\n  }\r\n\r\n\r\n  if(message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={bannerStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Banner","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id, setBanner) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => {\r\n    setBanner(`Person has been removed from the database!`)\r\n    return response.data\r\n  }).catch(error => setBanner('Error! That person has already been removed from the database!'))\r\n}\r\n\r\nconst exports = { getAll, create, update, remove }\r\nexport default exports","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Content from './components/Content'\nimport Banner from './components/Banner'\nimport contactService from './services/ContactService'\nimport { Container } from 'react-bootstrap'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ bannerMessage, setBannerMessage ] = useState('Contacts loaded from database!')\n\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  useEffect(() => contactService.getAll().then(\n      response => setPersons(response)), \n  [])\n\n  const handleDelete = (personToRemove) => {\n    return () => {\n      if(window.confirm('Are you sure you would like to delete this user?')) {\n        setPersons(persons.filter(person => person.id !== personToRemove.id))\n        contactService.remove(personToRemove.id, setBannerMessage)\n      }\n    }\n  }\n\n  const handleSubmit = (event) => {\n\n    event.preventDefault()\n    const newPerson = {name: newName, number: newNumber}\n    const result = persons.find(person => person.name === newName)\n\n    if(result) {\n      if(window.confirm(`${result.name} is already a contact. Would you like to update his phone number?`)) {\n        contactService.update(result.id, newPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id === result.id ? newPerson : person))\n          setBannerMessage(`${newPerson.name}'s record has been updated!`)\n        })\n      }\n    } else {\n      contactService.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setBannerMessage(`${newPerson.name} added to database!`)\n      }).catch(error => {\n        setBannerMessage(error.response.data)\n      })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <Container fluid>\n      <h1>Phonebook App</h1>\n\n      <p><Banner message={bannerMessage} /></p>\n      \n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new entry </h3>\n      <br />\n      <form>\n        <p>\n          Name: \n          <input \n            value={newName} \n            onChange={handleNameChange}\n          />\n        </p>\n        <p>\n          Phone number:\n          <input \n            value={newNumber} \n            onChange={handleNumberChange}\n          />\n        </p>\n        <p>\n          <button onClick={handleSubmit} type=\"submit\">add</button>\n        </p>\n      </form>\n      <h3>Numbers</h3>\n      <Content persons={persons} newFilter={newFilter} handleDelete={handleDelete} />\n    </Container>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}